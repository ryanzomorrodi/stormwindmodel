<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using the `stormwindmodel` package • stormwindmodel</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using the `stormwindmodel` package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stormwindmodel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.5.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Details.html">Details of `stormwindmodel` package</a></li>
    <li><a class="dropdown-item" href="../articles/modeling_outside_us.html">Modeling storm winds outside the United States</a></li>
    <li><a class="dropdown-item" href="../articles/Overview.html">Using the `stormwindmodel` package</a></li>
    <li><a class="dropdown-item" href="../articles/single_location.html">Modeling windspeed and direction at a single location</a></li>
    <li><a class="dropdown-item" href="../articles/timepoints.html">Extracting snapshots of the wind field at different times</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/geanders/stormwindmodel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using the `stormwindmodel` package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/geanders/stormwindmodel/blob/HEAD/vignettes/Overview.Rmd" class="external-link"><code>vignettes/Overview.Rmd</code></a></small>
      <div class="d-none name"><code>Overview.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p>The <code>stormwindmodel</code> package was created to allow users to
model wind speeds at grid points around the world based on “best tracks”
hurricane tracking data, using a model for wind speed developed by
Willoughby and coauthors <span class="citation">(2006)</span>. The
package includes functions for interpolating hurricane tracks and for
modeling and mapping wind speeds during the storm. For the US, it
includes population mean center locations for all counties, which can be
used to map winds by county; however, other grid point locations can
also be input for modeling, either to model at other resolutions in the
US or to model in other locations around the world. Full details on how
this model is fit are provided in the “Details” vignette of the
<code>stormwindmodel</code> package.</p>
</div>
<div class="section level3">
<h3 id="package-example-data">Package example data<a class="anchor" aria-label="anchor" href="#package-example-data"></a>
</h3>
<p>For examples in this vignette, the package includes data on the
tracks of Hurricane Floyd in 1999 and Hurricane Katrina in 2005 (other
vignettes show examples from outside the US, including in Australia and
China). You can load these example best tracks data sets using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/geanders/stormwindmodel" class="external-link">stormwindmodel</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"floyd_tracks"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">floyd_tracks</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">##   date         latitude longitude  wind</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 199909071800     14.6     -<span style="color: #BB0000;">45.6</span>    25</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 199909080000     15       -<span style="color: #BB0000;">46.9</span>    30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 199909080600     15.3     -<span style="color: #BB0000;">48.2</span>    35</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 199909081200     15.8     -<span style="color: #BB0000;">49.6</span>    40</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 199909081800     16.3     -<span style="color: #BB0000;">51.1</span>    45</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 199909090000     16.7     -<span style="color: #BB0000;">52.6</span>    45</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"katrina_tracks"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">katrina_tracks</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">##   date         latitude longitude  wind</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 200508231800     23.1     -<span style="color: #BB0000;">75.1</span>    30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 200508240000     23.4     -<span style="color: #BB0000;">75.7</span>    30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 200508240600     23.8     -<span style="color: #BB0000;">76.2</span>    30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 200508241200     24.5     -<span style="color: #BB0000;">76.5</span>    35</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 200508241800     25.4     -<span style="color: #BB0000;">76.9</span>    40</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 200508250000     26       -<span style="color: #BB0000;">77.7</span>    45</span></span></code></pre>
<p>This example data includes the following columns:</p>
<ul>
<li>
<code>date</code>: Date and time of the observation (in the UTC time
zone, which is usually used for best tracks data from sources like
IBTrACS)</li>
<li>
<code>latitude</code>, <code>longitude</code>: Location of the storm
at that time</li>
<li>
<code>wind</code>: Maximum sustained wind speed at that time (in
knots over a one-minute period at 10 meters above the surface; in
IBTrACS data, wind measured with this averaging period is available in
the column titled “USA_WIND”)</li>
</ul>
<p>You can input other storm tracks into the wind modeling functions in
the <code>stormwindmodel</code> package, but you must have your storm
tracks in the same format as these example dataframes and with these
columns names. If necessary, use <code>rename</code> from
<code>dplyr</code> to rename columns and <code>convert_wind_speed</code>
from <code>weathermetrics</code> to convert windspeed into knots. You
should also ensure that you understand the time zone used for recording
the data, and that the maximum sustained wind is recorded in knots, at
10 meters, based on a one-minute averaging period. If your wind speed
data are based on a different averaging period, you may want to consider
using data from IBTrACS as an alternative, since this database includes
a column with winds converted to this averaging period.</p>
<p>The <code>stormwindmodel</code> package also includes a dataset with
the location of the population mean center of each county in the eastern
United States (<code>county_points</code>). This dataset can be used as
the grid point inputs if you want to model storm-related winds for
counties in the United States. These counties are listed by Federal
Information Processing Standard (FIPS) number, which uniquely identifies
each U.S. county. This dataset comes from the US Census <a href="http://www2.census.gov/geo/docs/reference/cenpop2010/county/CenPop2010_Mean_CO.txt" class="external-link">file
of county population mean center locations</a>, as of the 2010 Census.
This dataset also includes a column named <code>glandsea</code>, which
gives a TRUE/FALSE value depending on whether that location is on land
(<code>TRUE</code>) or over water (<code>FALSE</code>), which is
required in the wind modeling process. In this case, since the points
represent US counties, all values are set to <code>TRUE</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">county_points</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">county_points</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   gridid     glat      glon glandsea</span></span>
<span><span class="co">## 1  01001 32.50039 -86.49416     TRUE</span></span>
<span><span class="co">## 2  01003 30.54892 -87.76238     TRUE</span></span>
<span><span class="co">## 3  01005 31.84404 -85.31004     TRUE</span></span>
<span><span class="co">## 4  01007 33.03092 -87.12766     TRUE</span></span>
<span><span class="co">## 5  01009 33.95524 -86.59149     TRUE</span></span>
<span><span class="co">## 6  01011 32.11633 -85.70119     TRUE</span></span></code></pre>
<p>You can use a different dataset of grid points to model winds at
other U.S. locations, or at other locations in the world, including at
evenly-spaced grid points. However, you will need to include these grid
points in a dataframe with a similar format to the example
<code>county_points</code> dataframe, with columns for each grid point
id (<code>gridid</code>— these IDs can be random but should be unique
across grid points), and <code>glat</code> and <code>glon</code> for
latitude and longitude of each grid point. You also need to include a
column named <code>glandsea</code>, which specifies whether that grid
point is over land or water. If you are only modeling locations over
land (for example, a human impacts study would often only measure
exposure at locations where people live, and so may only model points
over land), then you can set all values in this column to be
<code>TRUE</code>. If you are modeling grid points, or a combination of
points over land and over water, then you can use a landmask function
that is included with the package to determine if each point is over
land or water, based on its latitude and longitude. This alternative is
covered in detail in a separate vignette.</p>
</div>
<div class="section level3">
<h3 id="basic-example">Basic example<a class="anchor" aria-label="anchor" href="#basic-example"></a>
</h3>
<p>The main function of this package is <code>get_grid_winds</code>. It
inputs storm tracks for a tropical cyclone (<code>hurr_track</code>) and
a dataframe with grid point locations (<code>grid_df</code>). It models
winds during the tropical storm at each grid point and outputs summaries
of wind during the storm at each grid point from the storm. The wind
measurements generated for each grid point are:</p>
<ul>
<li>
<code>vmax_sust</code>: Maximum 10-m 1-minute sustained wind
experienced at the grid point during the storm</li>
<li>
<code>vmax_gust</code>: Maximum 10-m 1-minute gust wind experienced
at the grid point during the storm</li>
<li>
<code>sust_dur</code>: Duration sustained wind was at or above a
specified speed (default is 20 m/s), in minutes</li>
<li>
<code>gust_dur</code>: Duration gust wind was at or above a
specified speed (default is 20 m/s), in minutes</li>
</ul>
<p>For example, to get modeled winds for Hurricane Floyd at U.S. county
centers, you can run:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'dplyr'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter, lag</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     intersect, setdiff, setequal, union</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_winds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_grid_winds.html">get_grid_winds</a></span><span class="op">(</span>hurr_track <span class="op">=</span> <span class="va">floyd_tracks</span>, grid_df <span class="op">=</span> <span class="va">county_points</span><span class="op">)</span></span>
<span><span class="va">floyd_winds</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">gridid</span>, <span class="va">vmax_gust</span>, <span class="va">vmax_sust</span>, <span class="va">gust_dur</span>, <span class="va">sust_dur</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">##   gridid vmax_gust vmax_sust gust_dur sust_dur</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 01001       2.98      2.00        0        0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 01003       1.97      1.32        0        0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 01005       4.82      3.23        0        0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 01007       2.32      1.56        0        0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 01009       2.61      1.75        0        0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 01011       4.09      2.74        0        0</span></span></code></pre>
<p>If you use the <code>county_points</code> data for the
<code>grid_df</code> argument, you will model winds for eastern U.S.
county centers. In this case, the <code>gridid</code> is the county
FIPS. If you model winds at U.S. county centers, you can map the results
using the <code>map_wind</code> function. By default, this function maps
the maximum sustained wind in each county during the storm in meters per
second:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/map_wind.html">map_wind</a></span><span class="op">(</span><span class="va">floyd_winds</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-4-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="further-functionality">Further functionality<a class="anchor" aria-label="anchor" href="#further-functionality"></a>
</h3>
<div class="section level4">
<h4 id="modeling-winds-at-other-grid-points">Modeling winds at other grid points<a class="anchor" aria-label="anchor" href="#modeling-winds-at-other-grid-points"></a>
</h4>
<p>You can input the track for any Atlantic Basin tropical storm into
<code>get_grid_winds</code>, as long as you convert it to meet the
following format requirements:</p>
<ul>
<li>Is a dataframe of class <code>tbl_df</code> (you can use the
<code>tbl_df</code> function from <code>dplyr</code> to do this)</li>
<li>Has the following columns:
<ul>
<li>
<code>date</code>: A character vector with date and time (in UTC),
expressed as YYYYMMDDHHMM.</li>
<li>
<code>latitude</code>: A numeric vector with latitude in decimal
degrees.</li>
<li>
<code>longitude</code>: A numeric vector with longitude in decimal
degrees.</li>
<li>
<code>wind</code>: A numeric vector with maximum storm wind speed in
knots, representing maximum 10-m 1-minute sustained wind</li>
</ul>
</li>
</ul>
<p>For the grid point locations at which to model, you can input a
dataframe with grid points anywhere in the world. For example, you may
want to map wind speeds for Hurricane Katrina by census tract in Orleans
Parish, LA. The following code shows how a user could do that with the
<code>stormwindmodel</code> package. Other vignettes with this package
give examples of how to do this in places other than the United
States.</p>
<p>First, the <code>tigris</code> package can be used to pull US Census
tract shapefiles for a county. You can use the following code to pull
these census tract file shapefiles for Orleans Parish in Louisiana:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/walkerke/tigris" class="external-link">tigris</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">new_orleans</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tigris/man/tracts.html" class="external-link">tracts</a></span><span class="op">(</span>state <span class="op">=</span> <span class="st">"LA"</span>, county <span class="op">=</span> <span class="st">"Orleans"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>glandsea <span class="op">=</span> <span class="va">ALAND</span> <span class="op">&gt;</span> <span class="va">AWATER</span><span class="op">)</span></span></code></pre></div>
<p>This data includes columns with the area of land and area of water in
each census tract, so we can use that to create a <code>glandsea</code>
column, using the rubric that the tract is overland if its land area is
greater than its water area and over water if not.</p>
<p>This shapefile gives the polygon for each census tract. You can use
the <code>st_centroid</code> function from the <code>sf</code> package
to determine the location of the center of each census tract:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">new_orleans_tract_centers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_centroid</a></span><span class="op">(</span><span class="va">new_orleans</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_orleans_tract_centers</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Simple feature collection with 6 features and 14 fields</span></span>
<span><span class="co">## Geometry type: POINT</span></span>
<span><span class="co">## Dimension:     XY</span></span>
<span><span class="co">## Bounding box:  xmin: -90.01988 ymin: 29.89858 xmax: -89.78792 ymax: 30.10123</span></span>
<span><span class="co">## Geodetic CRS:  NAD83</span></span>
<span><span class="co">##     STATEFP COUNTYFP TRACTCE       GEOID              GEOIDFQ  NAME</span></span>
<span><span class="co">## 47       22      071  001758 22071001758 1400000US22071001758 17.58</span></span>
<span><span class="co">## 243      22      071  000617 22071000617 1400000US22071000617  6.17</span></span>
<span><span class="co">## 331      22      071  001748 22071001748 1400000US22071001748 17.48</span></span>
<span><span class="co">## 333      22      071  001747 22071001747 1400000US22071001747 17.47</span></span>
<span><span class="co">## 334      22      071  001750 22071001750 1400000US22071001750 17.50</span></span>
<span><span class="co">## 601      22      071  000800 22071000800 1400000US22071000800     8</span></span>
<span><span class="co">##               NAMELSAD MTFCC FUNCSTAT     ALAND   AWATER    INTPTLAT</span></span>
<span><span class="co">## 47  Census Tract 17.58 G5020        S 169948955 95735784 +30.0986674</span></span>
<span><span class="co">## 243  Census Tract 6.17 G5020        S   1201874   277641 +29.9012380</span></span>
<span><span class="co">## 331 Census Tract 17.48 G5020        S   2067053        0 +30.0254915</span></span>
<span><span class="co">## 333 Census Tract 17.47 G5020        S   7119930   344001 +30.0414373</span></span>
<span><span class="co">## 334 Census Tract 17.50 G5020        S   1437944   166340 +30.0384832</span></span>
<span><span class="co">## 601     Census Tract 8 G5020        S    614812        0 +29.9596374</span></span>
<span><span class="co">##         INTPTLON                   geometry glandsea</span></span>
<span><span class="co">## 47  -089.7948284 POINT (-89.78792 30.10123)     TRUE</span></span>
<span><span class="co">## 243 -089.9940860 POINT (-89.99299 29.89858)     TRUE</span></span>
<span><span class="co">## 331 -089.9554344 POINT (-89.95543 30.02549)     TRUE</span></span>
<span><span class="co">## 333 -089.9549478 POINT (-89.95391 30.04018)     TRUE</span></span>
<span><span class="co">## 334 -089.9176831 POINT (-89.91693 30.03769)     TRUE</span></span>
<span><span class="co">## 601 -090.0198758 POINT (-90.01988 29.95964)     TRUE</span></span></code></pre>
<p>With some cleaning, you can get this data to the format required for
the <code>get_grid_winds</code> function. In particular, you should add
the geo id from the original shapefiles as the grid id, as this will
help you map the modeled wind results. You can also extract the latitude
and longitude from the geometry of the <code>sf</code> object and put
them in separate columns, as needed for the wind modeling code:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_orleans_tract_centers2</span> <span class="op">&lt;-</span> <span class="va">new_orleans_tract_centers</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>glon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">geometry</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         glat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">geometry</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>gridid <span class="op">=</span> <span class="va">GEOID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">gridid</span>, <span class="va">glat</span>, <span class="va">glon</span>, <span class="va">glandsea</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_orleans_tract_centers2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##          gridid     glat      glon glandsea</span></span>
<span><span class="co">## 47  22071001758 30.10123 -89.78792     TRUE</span></span>
<span><span class="co">## 243 22071000617 29.89858 -89.99299     TRUE</span></span>
<span><span class="co">## 331 22071001748 30.02549 -89.95543     TRUE</span></span>
<span><span class="co">## 333 22071001747 30.04018 -89.95391     TRUE</span></span>
<span><span class="co">## 334 22071001750 30.03769 -89.91693     TRUE</span></span>
<span><span class="co">## 601 22071000800 29.95964 -90.01988     TRUE</span></span></code></pre>
<p>Here is a map of the census tracts, with the center point of each
shown with a red dot:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">new_orleans</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">glandsea</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">new_orleans_tract_centers</span>, color <span class="op">=</span> <span class="st">"red"</span>, size <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dodgerblue3"</span>, <span class="st">"bisque3"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-8-1.png"><!-- --></p>
<p>Since the <code>new_orleans_tract_centers2</code> is now in the
appropriate format to use with the <code>stormwindmodel</code>
functions, you can input it directly into <code>get_grid_winds</code> to
model the winds from Hurricane Katrina at each census tract center:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_orleans_tracts_katrina</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_grid_winds.html">get_grid_winds</a></span><span class="op">(</span>hurr_track <span class="op">=</span> <span class="va">katrina_tracks</span>, </span>
<span>                                             grid_df <span class="op">=</span> <span class="va">new_orleans_tract_centers2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_orleans_tracts_katrina</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">##   gridid      date_time_max_wind vmax_sust vmax_gust sust_dur gust_dur</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 22071001758 <span style="color: #BB0000;">NA</span>                      44.4      66.1      630     <span style="text-decoration: underline;">1</span>110</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 22071000617 <span style="color: #BB0000;">NA</span>                      41.0      61.0      705     <span style="text-decoration: underline;">1</span>125</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 22071001748 <span style="color: #BB0000;">NA</span>                      40.2      59.9      690     <span style="text-decoration: underline;">1</span>110</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 22071001747 <span style="color: #BB0000;">NA</span>                      39.9      59.5      690     <span style="text-decoration: underline;">1</span>110</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 22071001750 <span style="color: #BB0000;">NA</span>                      41.3      61.5      690     <span style="text-decoration: underline;">1</span>110</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 22071000800 <span style="color: #BB0000;">NA</span>                      39.2      58.5      705     <span style="text-decoration: underline;">1</span>110</span></span></code></pre>
<p>To plot these modeled winds, you can merge this modeled data back
into the “sf” version of the census tract shapefile data, joining by geo
identification, and then add to the map. You can show wind speed in this
map with color.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_orleans</span> <span class="op">&lt;-</span> <span class="va">new_orleans</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">new_orleans_tracts_katrina</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GEOID"</span> <span class="op">=</span> <span class="st">"gridid"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sjmgarnier.github.io/viridis/" class="external-link">viridis</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">new_orleans</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">vmax_sust</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://sjmgarnier.github.io/viridis/reference/scale_viridis.html" class="external-link">scale_fill_viridis</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Maximum\nsustained\nwinds (m/s)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-11-1.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="creating-time-series-of-winds">Creating time series of winds<a class="anchor" aria-label="anchor" href="#creating-time-series-of-winds"></a>
</h4>
<p>So far, we’ve focused on functions that allow you to get an overall
summary of how high winds were over the course of a storm at a certain
location. There are also functions in the package that allow you to
extract more complex versions of the wind data, where there is an
estimate for the winds at each location at each time point along the
storm’s interpolated track (by default, every 15 minutes). This can
allow you to create time series of how winds evolved over the course of
the storm at each location you are modeling.</p>
<p>For example, you can use <code>calc_grid_winds</code> to calculate
the full time series of winds during Hurricane Floyd at the US county
centers in the eastern US:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"floyd_tracks"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"county_points"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">floyd_timeseries_winds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calc_grid_winds.html">calc_grid_winds</a></span><span class="op">(</span>hurr_track <span class="op">=</span> <span class="va">floyd_tracks</span>, </span>
<span>                                          grid_df <span class="op">=</span> <span class="va">county_points</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">floyd_timeseries_winds</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 3</span></span>
<span><span class="co">##  $ vmax_sust             : num [1:1129, 1:2396] 0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:1129] "1999-09-07 18:00:00" "1999-09-07 18:15:00" "1999-09-07 18:30:00" "1999-09-07 18:45:00" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:2396] "01001" "01003" "01005" "01007" ...</span></span>
<span><span class="co">##  $ distance_from_storm   : num [1:1129, 1:2396] 4582 4575 4569 4563 4557 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:1129] "1999-09-07 18:00:00" "1999-09-07 18:15:00" "1999-09-07 18:30:00" "1999-09-07 18:45:00" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:2396] "01001" "01003" "01005" "01007" ...</span></span>
<span><span class="co">##  $ surface_wind_direction: num [1:1129, 1:2396] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:1129] "1999-09-07 18:00:00" "1999-09-07 18:15:00" "1999-09-07 18:30:00" "1999-09-07 18:45:00" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:2396] "01001" "01003" "01005" "01007" ...</span></span></code></pre>
<p>This creates an array of three matrices, each with the same
dimensions. There is one matrix each for maximum sustained winds at that
time point in that location (<code>vmax_sust</code>), distance between
the grid point and the storm’s center at that time
(<code>distance_from_storm</code>), and the surface wind direction (if
the storm was within a certain distance of the storm, otherwise this
value will be set as missing) (<code>surface_wind_direction</code>). For
each of these matrices, the rownames give the date and time of the
estimate and the column names give the grid ID (in this case, the county
FIPS code). Here’s an example of a subset of the wind matrix for some
counties in North Carolina around the time of highest winds in the
state:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_timeseries_winds</span><span class="op">[[</span><span class="st">"vmax_sust"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">830</span><span class="op">:</span><span class="fl">840</span>, <span class="fl">1400</span><span class="op">:</span><span class="fl">1410</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##                        37021    37023     37025    37027    37029    37031</span></span>
<span><span class="co">## 1999-09-16 09:15:00 5.721721 7.656765 11.278906 7.828813 15.66919 33.99837</span></span>
<span><span class="co">## 1999-09-16 09:30:00 5.677085 7.608157 11.178747 7.791503 16.19404 35.37429</span></span>
<span><span class="co">## 1999-09-16 09:45:00 5.627172 7.551176 11.064167 7.745253 16.72975 36.38580</span></span>
<span><span class="co">## 1999-09-16 10:00:00 5.572254 7.486155 10.935876 7.690341 17.27607 36.81890</span></span>
<span><span class="co">## 1999-09-16 10:15:00 5.512812 7.413697 10.794986 7.627322 17.83243 36.58173</span></span>
<span><span class="co">## 1999-09-16 10:30:00 5.448878 7.333884 10.641940 7.556236 18.39941 35.78599</span></span>
<span><span class="co">## 1999-09-16 10:45:00 5.380940 7.247366 10.477972 7.477700 18.97723 34.61118</span></span>
<span><span class="co">## 1999-09-16 11:00:00 5.309160 7.154417 10.303830 7.391960 19.56759 33.23651</span></span>
<span><span class="co">## 1999-09-16 11:15:00 5.233966 7.055642 10.120717 7.299606 20.17298 31.79015</span></span>
<span><span class="co">## 1999-09-16 11:30:00 5.155697 6.951551  9.929707 7.201140 20.79812 30.34873</span></span>
<span><span class="co">## 1999-09-16 11:45:00 5.074517 6.842460  9.731617 7.096869 21.45172 28.95170</span></span>
<span><span class="co">##                        37033    37035    37037    37039    37041</span></span>
<span><span class="co">## 1999-09-16 09:15:00 12.71196 8.765115 15.93226 3.551014 18.12575</span></span>
<span><span class="co">## 1999-09-16 09:30:00 12.82888 8.709713 15.96710 3.516742 18.68154</span></span>
<span><span class="co">## 1999-09-16 09:45:00 12.92891 8.644067 15.97514 3.479997 19.24211</span></span>
<span><span class="co">## 1999-09-16 10:00:00 13.01129 8.568563 15.95551 3.440952 19.80637</span></span>
<span><span class="co">## 1999-09-16 10:15:00 13.07562 8.483898 15.90790 3.399939 20.37308</span></span>
<span><span class="co">## 1999-09-16 10:30:00 13.12089 8.390207 15.83121 3.356923 20.94272</span></span>
<span><span class="co">## 1999-09-16 10:45:00 13.14683 8.288257 15.72561 3.312218 21.51651</span></span>
<span><span class="co">## 1999-09-16 11:00:00 13.15276 8.178414 15.59088 3.265877 22.04891</span></span>
<span><span class="co">## 1999-09-16 11:15:00 13.13849 8.061413 15.42785 3.218149 22.57024</span></span>
<span><span class="co">## 1999-09-16 11:30:00 13.10382 7.937893 15.23753 3.169215 23.12579</span></span>
<span><span class="co">## 1999-09-16 11:45:00 13.04836 7.808279 15.02100 3.119113 23.75651</span></span></code></pre>
<p>You can extract from this dataset by timepoint, if you want to see a
snapshot of modeled winds at a specific time, or extract by grid point,
if you want to see how winds changed over the course of the storm at
that time point. For example, here is the code to extract and show
modeled wind at the population mean center of Dare County, NC (FIPS:
37055) throughout Hurricane Floyd:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">dare_winds</span> <span class="op">&lt;-</span> <span class="va">floyd_timeseries_winds</span><span class="op">[[</span><span class="st">"vmax_sust"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span> , <span class="st">"37055"</span><span class="op">]</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/enframe.html" class="external-link">enframe</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"date"</span>, value <span class="op">=</span> <span class="st">"windspeed"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dare_winds</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">windspeed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Observation time (UTC)"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Modeled surface wind (m / s)"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-14-1.png"><!-- --></p>
</div>
<div class="section level4">
<h4 id="options-for-mapping-county-level-winds">Options for mapping county-level winds<a class="anchor" aria-label="anchor" href="#options-for-mapping-county-level-winds"></a>
</h4>
<p>There are a number of options when mapping wind speeds using
<code>map_wind</code>.</p>
<p>First, you can use the <code>add_storm_track</code> function to add
the storm track to the map. This function inputs one dataframe with
tracking data (the <code>floyd_tracks</code> example data that comes
with the package in this case) as well as the plot object created using
<code>map_wind</code>, which is input using the <code>plot_object</code>
argument. In this example code, we’ve first created the base map of
modeled winds in each county using <code>map_wind</code>. We then input
that, along with Floyd’s track data, into <code>add_storm_track</code>
to create a map with both winds and the storm tracks:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">floyd_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/map_wind.html">map_wind</a></span><span class="op">(</span><span class="va">floyd_winds</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/add_storm_track.html">add_storm_track</a></span><span class="op">(</span><span class="va">floyd_tracks</span>, plot_object <span class="op">=</span> <span class="va">floyd_map</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-15-1.png"><!-- --></p>
<p>You can choose whether to map sustained or gust winds
(<code>value</code>, which can take “vmax_gust” or “vmax_sust”), as well
as the unit to use for wind speed (<code>wind_metric</code>, which can
take values of “m/s” for meters per second [the default] or “knots”).
For example, you can modeled gust wind speeds in knots during Hurricane
Floyd using:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/map_wind.html">map_wind</a></span><span class="op">(</span><span class="va">floyd_winds</span>, value <span class="op">=</span> <span class="st">"vmax_gust"</span>, wind_metric <span class="op">=</span> <span class="st">"knots"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-16-1.png"><!-- --></p>
<p>Finally, you can map a binary classification of counties with winds
at or above a certain break point. For example, to map counties with
sustained wind at or above 34 knots during Hurricane Floyd, you can
run:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/map_wind.html">map_wind</a></span><span class="op">(</span><span class="va">floyd_winds</span>, value <span class="op">=</span> <span class="st">"vmax_sust"</span>, wind_metric <span class="op">=</span> <span class="st">"knots"</span>, break_point <span class="op">=</span> <span class="fl">34</span><span class="op">)</span></span></code></pre></div>
<p><img src="Overview_files/figure-html/unnamed-chunk-17-1.png"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="tracks-data">Tracks data<a class="anchor" aria-label="anchor" href="#tracks-data"></a>
</h3>
<p>You can get an R version of the hurricane best tracks data for
Atlantic basin storms from 1988 to 2018 through the
<code>hurricaneexposuredata</code> package (in development on GitHub).
For more information, see <a href="https://github.com/geanders/hurricaneexposuredata" class="external-link">the GitHub
repository for that package</a>. You can also get best tracks data for
tropical cyclones worldwide from IBTrACS.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-willoughby2006parametric" class="csl-entry">
Willoughby, HE, RWR Darling, and ME Rahn. 2006. <span>“Parametric
Representation of the Primary Hurricane Vortex. <span>Part II</span>: A
New Family of Sectionally Continuous Profiles.”</span> <em>Monthly
Weather Review</em> 134 (4): 1102–20.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ryan Zomorrodi, Brooke Anderson, Andrea Schumacher, Seth Guikema, Steven Quiring, Joshua Ferreri, Elizabeth Tennant, Jordan Robinson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
